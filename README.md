# Система перетворення рукописного тексту

## Опис

Професійна система для розпізнавання та перетворення рукописного тексту в друкований формат з підтримкою української та англійської мов.

## Технологічний стек

- **Python 3.8+**
- **PyQt6** - графічний інтерфейс
- **OpenCV, Pillow** - обробка зображень
- **PyTorch** - глибоке навчання (для EasyOCR, PaddleOCR)
- **OCR рушії**: Tesseract, EasyOCR, PaddleOCR

## Архітектура

Проєкт використовує архітектурний патерн **Model-View-Controller (MVC)**:

- **Model** (`app/model/`) - бізнес-логіка, OCR адаптери, обробка зображень
- **View** (`app/view/`) - графічний інтерфейс користувача
- **Controller** (`app/handwrite_controller.py`) - координація між View та Model

## Функціональність

### Основні можливості

1. **Завантаження зображень** (JPG, PNG) з рукописним текстом
2. **Полотно для малювання** - оптимізоване для плавного малювання з підтримкою стилуса
3. **Попередня обробка** зображення:
   - Бінаризація (адаптивна та Otsu)
   - Очищення від шумів (білатеральний фільтр)
   - Корекція контрасту (CLAHE)
   - Вирівнювання (deskewing)
   - Покращення різкості
   - Морфологічні операції
4. **Розпізнавання тексту**:
   - Підтримка української та англійської мов
   - Використання Tesseract, EasyOCR або PaddleOCR
   - Word segmentation для багатослівних фраз
   - LLM post-processing для виправлення помилок
5. **Редагування** розпізнаного тексту
6. **Експорт** у формати: TXT, DOCX, PDF

## Встановлення

1. Встанови Python 3.8+
2. Встанови залежності:
   ```bash
   pip install -r requirements.txt
   ```
3. Встанови Tesseract OCR:
   - Windows: https://github.com/UB-Mannheim/tesseract/wiki
4. Запусти програму:
   ```bash
   python app/handwrite_main.py
   ```

## Використання

1. Виберіть мову (Українська/Англійська)
2. Виберіть OCR рушій (Tesseract/EasyOCR/PaddleOCR)
3. Завантажте зображення або намалюйте текст на полотні
4. Натисніть "Розпізнати"
5. Відредагуйте результат (за потреби)
6. Експортуйте у потрібний формат

## Продуктивність

- Час відгуку: до 5 секунд для зображень до 5 МБ
- Точність: не менше 90% для чіткого тексту
- Плавність малювання: оптимізовано для стилуса та миші

## Особливості

### Покращене полотно
- Висока роздільність (2x для retina-дисплеїв)
- Плавне малювання з інтерполяцією
- Антиаліасинг для якісних ліній
- Підтримка стилуса

### Оптимізований preprocessing
- Адаптивна бінаризація
- CLAHE для контрасту
- Білатеральний фільтр для збереження країв
- Автоматичне вирівнювання

### Розумне розпізнавання
- Word segmentation для багатослівних фраз
- Fallback між рушіями
- LLM post-processing для виправлення помилок

## Структура проєкту

```
app/
├── model/              # Бізнес-логіка (MVC: Model)
│   ├── unified_ocr_adapter.py    # Головний адаптер OCR
│   ├── ocr_strategies.py          # Strategy pattern для OCR
│   ├── optimized_preprocessor.py  # Оптимізована обробка зображень
│   ├── word_segmenter.py          # Розбиття на слова
│   └── ...
├── view/               # Інтерфейс (MVC: View)
│   ├── handwrite_main_window.py
│   ├── handwrite_canvas.py        # Покращене полотно
│   └── ...
└── handwrite_controller.py        # Контролер (MVC: Controller)
```

## Ліцензія

KPI Student Project
